<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head th:replace="base :: common_header(~{::title/text()},~{::link},~{::script})">

    <title>明星摊位管理</title>

</head>
<body class="layui-layout-body">

<div class="layui-layout layui-layout-admin">
    <div th:replace="base :: top_header"></div>

    <div th:replace="base :: left_nav ('market','booth')"></div>

    <div class="layui-body">
        <div th:replace="base :: breadcrumb ('marketRegion', '菜市场', '摊位')"></div>
        <!--内容主体区域 -->
        <div style="padding: 15px;">
            <form class="layui-form" action="#" th:action="|/booth/${action}|" method="post" enctype="multipart/form-data">
                <input type="hidden" name="id" th:if="${booth.id !=null }" th:value="${booth.id}"/>
                <div class="layui-form-item">
                    <label class="layui-form-label">名称</label>
                    <div class="layui-input-block">
                        <input type="text" name="name" required lay-verify="required"
                               placeholder="请输入名称" autocomplete="off" class="layui-input" th:value="${booth.name}">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">选择区域</label>
                    <div class="layui-input-block">
                        <select name="marketRegionId" lay-verify="required">
                            <option value=""></option>
                            <option th:value="${item.id}" th:each="item : ${marketRegionList}"  th:text="${item.name}"
                                    th:selected="${item.id == booth.marketRegionId}"></option>
                        </select>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">摊位位置</label>
                    <div class="layui-input-block">
                        <input type="text" name="position" required lay-verify="required"
                               placeholder="请输入摊位位置" class="layui-input" th:value="${booth.position}">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">选择分类</label>
                    <div class="layui-input-block">
                        <select name="categoryId" lay-verify="required">
                            <option value=""></option>
                            <option th:value="${item.id}" th:each="item : ${categoryList}"  th:text="${item.name}"
                                    th:selected="${item.id == booth.categoryId}"></option>
                        </select>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">评星</label>
                    <div class="layui-input-block">
                        <input type="number" name="star" required lay-verify="number"
                               placeholder="请输入评星" autocomplete="off" class="layui-input" th:value="${booth.star}">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">上传图片</label>
                    <div class="layui-input-block">
                        <input type="file" name="file"/>
                    </div>
                </div>
                <div class="layui-form-item" th:if="${not #strings.isEmpty(booth.url)}">
                    <label class="layui-form-label">摊位图片</label>
                    <div class="layui-input-block">
                        <img th:src="|/resources/${booth.url}|" style="height: 100px">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">营业执照等信息</label>
                    <div class="layui-input-block">
                        <input type="text" name="licenseUrl" required lay-verify="required" placeholder="请输入网址"
                               class="layui-input" th:value="${booth.licenseUrl}">
                    </div>
                </div>

                <div class="layui-form-item">
                    <div class="layui-input-block">
                        <button class="layui-btn" lay-submit>立即提交</button>
                    </div>
                </div>

            </form>
        </div>
    </div>

    <div th:replace="base :: footer"></div>
</div>

<th:block th:replace="base :: bottom_script"/>
<script th:inline="javascript">
    layui.use(['layer', 'form'], function () {
        var layer = layui.layer;

        var message = [[${msg}]];
        if (message) {
            layer.msg(message, {
                offset: '15px',
                icon: 1
            });
        }
    });
</script>

</body>
</html>