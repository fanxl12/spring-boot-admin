<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head th:replace="base :: common_header(~{::title/text()},~{::link},~{::script})">

    <title>指导菜价列表</title>

</head>
<body class="layui-layout-body">

<div class="layui-layout layui-layout-admin">
    <div th:replace="base :: top_header"></div>

    <div th:replace="base :: left_nav ('market','stall')"></div>

    <div class="layui-body">
        <div th:replace="base :: breadcrumb ('market', '菜市场', '摊位信息')"></div>

        <!--内容主体区域 -->
        <div style="padding: 15px;">

            <table class="layui-table">
                <colgroup>
                    <col width="150">
                    <col width="200">
                    <col>
                </colgroup>
                <thead>
                    <tr>
                        <th>序号</th>
                        <th>摊位类型</th>
                        <th>商户名称</th>
                        <th>摊位编号</th>
                        <th>营业执照编号</th>
                    </tr>
                </thead>
                <tbody>

                <tr th:each="item : ${pageInfo.getList()}">
                    <td th:text="${item.stallIndex}"></td>
                    <td th:text="${item.categoryName}"></td>
                    <td th:text="${item.name}"></td>
                    <td th:text="${item.code}"></td>
                    <td th:text="${item.businessLicense}"></td>
                </tr>
                </tbody>
            </table>

            <div id="page"></div>

            <a href="/import/stall" class="layui-btn">导入摊位信息</a>
            <a th:href="@{/static/excel/stall.xlsx}" class="layui-btn">摊位信息模板下载</a>

        </div>
    </div>

    <div th:replace="base :: footer"></div>
</div>

<th:block th:replace="base :: bottom_script"/>
<script th:inline="javascript">
    //JavaScript代码区域
    layui.use(['element', 'laypage', 'layer'], function () {
        var layPage = layui.laypage;
        var pageInfo = [[${pageInfo}]];
        layPage.render({
            elem: 'page',
            curr: pageInfo.pageNum,
            limit: pageInfo.pageSize,
            count: pageInfo.total,
            jump: function(obj, first) {
                if (!first) {
                    window.location.href="/stall?page=" + obj.curr + "&size=" + obj.limit;
                }
            }
        });

        var layer = layui.layer;
        var message = [[${msg}]];
        if (message) {
            layer.msg(message, {
                offset: '15px',
                icon: 1
            });
        }
    });
</script>

</body>
</html>