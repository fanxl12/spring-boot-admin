<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head th:replace="base :: common_header(~{::title/text()},~{::link},~{::script})">

    <title>进货录入列表</title>

</head>
<body class="layui-layout-body">

<div class="layui-layout layui-layout-admin">
    <div th:replace="base :: top_header"></div>

    <div th:replace="base :: left_nav ('product','stockIn')"></div>

    <div class="layui-body">
        <div th:replace="base :: breadcrumb ('product', '商品', '进货录入')"></div>

        <!--内容主体区域 -->
        <div style="padding: 15px;">

            <table class="layui-table">
                <colgroup>
                    <col width="150">
                    <col width="200">
                    <col>
                </colgroup>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>采购日期</th>
                        <th>商品编号</th>
                        <th>商品名称</th>
                        <th>采购总量</th>
                        <th>采购金额</th>
                        <th>采购单价</th>
                        <th>供应商名称</th>
                        <th>采购单状态</th>
                    </tr>
                </thead>
                <tbody>

                <tr th:each="item : ${pageInfo.getList()}">
                    <td th:text="${item.id}"></td>
                    <td th:text="${#dates.format(item.purchaseDate,'yyyy-MM-dd HH:mm:ss')}"></td>
                    <td th:text="${item.shopCode}"></td>
                    <td th:text="${item.goodsName}"></td>
                    <td th:text="${item.purchaseTotal}"></td>
                    <td th:text="${item.purchaseMoney}"></td>
                    <td th:text="${item.purchasePrice}"></td>
                    <td th:text="${item.supplierName}"></td>
                    <td th:text="${item.purchaseStatus}"></td>
                </tr>
                </tbody>
            </table>

            <div id="page"></div>

            <a href="/import/stockIn" class="layui-btn">导入进货录入</a>
            <a th:href="@{/static/excel/stock_in.xlsx}" class="layui-btn">进货录入模板下载</a>

        </div>
    </div>

    <div th:replace="base :: footer"></div>
</div>

<th:block th:replace="base :: bottom_script"/>
<script th:inline="javascript">
    //JavaScript代码区域
    layui.use(['element', 'laypage', 'layer'], function () {
        var layPage = layui.laypage;
        var pageInfo = [[${pageInfo}]];
        layPage.render({
            elem: 'page',
            curr: pageInfo.pageNum,
            limit: pageInfo.pageSize,
            count: pageInfo.total,
            jump: function(obj, first) {
                if (!first) {
                    window.location.href="/stockIn?page=" + obj.curr + "&size=" + obj.limit;
                }
            }
        });

        var layer = layui.layer;
        var message = [[${msg}]];
        if (message) {
            layer.msg(message, {
                offset: '15px',
                icon: 1
            });
        }
    });
</script>

</body>
</html>